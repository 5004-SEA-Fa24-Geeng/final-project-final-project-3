


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > WishListPanel</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">view</a>
</div>

<h1>Coverage Summary for Class: WishListPanel (view)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">WishListPanel</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (10/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    64.3%
  </span>
  <span class="absValue">
    (9/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    92.8%
  </span>
  <span class="absValue">
    (142/153)
  </span>
</td>
</tr>
  <tr>
    <td class="name">WishListPanel$RemoveCharacterListener</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (10/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    64.3%
  </span>
  <span class="absValue">
    (9/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    92.8%
  </span>
  <span class="absValue">
    (142/153)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package view;
&nbsp;
&nbsp;import java.util.List;
&nbsp;import javax.swing.*;
&nbsp;import model.CharacterRecord;
&nbsp;import java.awt.*;
&nbsp;import java.awt.event.ActionListener;
&nbsp;import util.ImageCache;
&nbsp;
&nbsp;/**
&nbsp; * Panel that displays and manages a user&#39;s character wish list.
&nbsp; * Supports adding, removing, and saving characters.
&nbsp; */
&nbsp;public class WishListPanel extends JPanel {
&nbsp;    /** Panel that holds all the character panels in the wishlist. */
<b class="fc">&nbsp;    private final JPanel contentPanel = new JPanel();</b>
&nbsp;    /** Button used to clear all characters from the wishlist. */
<b class="fc">&nbsp;    private final JButton clearButton = new JButton(&quot;Clear&quot;);</b>
&nbsp;    /** Button used to save the current wishlist to a file. */
<b class="fc">&nbsp;    private final JButton saveButton = new JButton(&quot;Save to File&quot;);</b>
&nbsp;    /** Listener that handles character removal from the wishlist. */
&nbsp;    private RemoveCharacterListener removeCharacterListener;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructs the WishListPanel UI.
&nbsp;     */
<b class="fc">&nbsp;    public WishListPanel() {</b>
<b class="fc">&nbsp;        setLayout(new BorderLayout());</b>
<b class="fc">&nbsp;        setPreferredSize(new Dimension(400, 0));</b>
<b class="fc">&nbsp;        setBorder(BorderFactory.createLineBorder(new Color(223, 0, 102), 2));</b>
<b class="fc">&nbsp;        initComponents();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the listener for remove button actions.
&nbsp;     *
&nbsp;     * @param listener the listener to be notified when a character is removed
&nbsp;     */
&nbsp;    public void setRemoveCharacterListener(RemoveCharacterListener listener) {
<b class="fc">&nbsp;        this.removeCharacterListener = listener;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void initComponents() {
&nbsp;        // White background
<b class="fc">&nbsp;        setBackground(Color.WHITE);</b>
<b class="fc">&nbsp;        setOpaque(true);</b>
<b class="fc">&nbsp;        contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));</b>
<b class="fc">&nbsp;        contentPanel.setAlignmentX(Component.LEFT_ALIGNMENT);</b>
<b class="fc">&nbsp;        contentPanel.setBackground(Color.WHITE);</b>
<b class="fc">&nbsp;        contentPanel.setOpaque(true);</b>
&nbsp;
&nbsp;        // Scroll pane setup
<b class="fc">&nbsp;        JScrollPane scrollPane = new JScrollPane(contentPanel);</b>
<b class="fc">&nbsp;        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);</b>
<b class="fc">&nbsp;        scrollPane.setBorder(null); // Remove border</b>
<b class="fc">&nbsp;        scrollPane.setOpaque(false);</b>
<b class="fc">&nbsp;        scrollPane.getViewport().setOpaque(false);</b>
&nbsp;
<b class="fc">&nbsp;        add(scrollPane, BorderLayout.CENTER);</b>
&nbsp;
&nbsp;        // Button panel
<b class="fc">&nbsp;        JPanel buttonPanel = new JPanel(new GridLayout(1, 2));</b>
<b class="fc">&nbsp;        buttonPanel.setBackground(Color.WHITE);</b>
<b class="fc">&nbsp;        buttonPanel.add(clearButton);</b>
<b class="fc">&nbsp;        buttonPanel.add(saveButton);</b>
<b class="fc">&nbsp;        add(buttonPanel, BorderLayout.SOUTH);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the characters to display in the wishlist panel.
&nbsp;     *
&nbsp;     * @param characters list of CharacterRecord objects
&nbsp;     */
&nbsp;    public void setWishList(List&lt;CharacterRecord&gt; characters) {
<b class="fc">&nbsp;        System.out.println(&quot;Setting wish list with &quot; + characters.size() + &quot; characters&quot;);</b>
<b class="fc">&nbsp;        contentPanel.removeAll();</b>
<b class="fc">&nbsp;        for (CharacterRecord character : characters) {</b>
<b class="fc">&nbsp;            addCharacterPanel(character);</b>
&nbsp;        }
<b class="fc">&nbsp;        contentPanel.revalidate();</b>
<b class="fc">&nbsp;        contentPanel.repaint();</b>
&nbsp;
<b class="fc">&nbsp;        clearButton.setEnabled(!characters.isEmpty());</b>
<b class="fc">&nbsp;        saveButton.setEnabled(!characters.isEmpty());</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Adds a visual representation of a character to the wishlist panel.
&nbsp;     *
&nbsp;     * @param character the character to display
&nbsp;     */
&nbsp;    private void addCharacterPanel(CharacterRecord character) {
<b class="fc">&nbsp;        JPanel panel = new JPanel(new BorderLayout(0, 0));</b>
<b class="fc">&nbsp;        panel.setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));</b>
<b class="fc">&nbsp;        panel.setMaximumSize(new Dimension(400, 138));  // set maximum height</b>
<b class="fc">&nbsp;        panel.setPreferredSize(new Dimension(400, 138));  // set preferred height</b>
<b class="fc">&nbsp;        panel.setMinimumSize(new Dimension(400, 138));  // set minimum height</b>
&nbsp;
&nbsp;        // left image panel
<b class="fc">&nbsp;        JPanel imagePanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 0, 0));</b>
<b class="fc">&nbsp;        imagePanel.setMaximumSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;        imagePanel.setPreferredSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;        imagePanel.setMinimumSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;        String imageUrl = &quot;https://image.tmdb.org/t/p/w92&quot; + character.getProfile();</b>
<b class="fc">&nbsp;        ImageIcon icon = ImageCache.getImage(imageUrl);</b>
<b class="pc">&nbsp;        if (icon != null) {</b>
<b class="nc">&nbsp;            JLabel imageLabel = new JLabel(icon);</b>
<b class="nc">&nbsp;            imageLabel.setMaximumSize(new Dimension(92, 138));</b>
<b class="nc">&nbsp;            imageLabel.setPreferredSize(new Dimension(92, 138));</b>
<b class="nc">&nbsp;            imageLabel.setMinimumSize(new Dimension(92, 138));</b>
<b class="nc">&nbsp;            imageLabel.setVerticalAlignment(JLabel.TOP);</b>
<b class="nc">&nbsp;            imageLabel.setAlignmentY(Component.TOP_ALIGNMENT);</b>
<b class="nc">&nbsp;            imagePanel.add(imageLabel);</b>
&nbsp;        } else {
<b class="fc">&nbsp;            JLabel noImageLabel = new JLabel(&quot;No Image&quot;);</b>
<b class="fc">&nbsp;            noImageLabel.setMaximumSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;            noImageLabel.setPreferredSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;            noImageLabel.setMinimumSize(new Dimension(92, 138));</b>
<b class="fc">&nbsp;            noImageLabel.setVerticalAlignment(JLabel.TOP);</b>
<b class="fc">&nbsp;            noImageLabel.setAlignmentY(Component.TOP_ALIGNMENT);</b>
<b class="fc">&nbsp;            imagePanel.add(noImageLabel);</b>
&nbsp;        }
&nbsp;
&nbsp;        // middle info panel
<b class="fc">&nbsp;        JPanel infoPanel = new JPanel();</b>
<b class="fc">&nbsp;        infoPanel.setLayout(new BoxLayout(infoPanel, BoxLayout.Y_AXIS));</b>
<b class="fc">&nbsp;        infoPanel.setBorder(BorderFactory.createEmptyBorder(0, 10, 0, 0));</b>
<b class="fc">&nbsp;        infoPanel.setMaximumSize(new Dimension(250, 138));</b>
<b class="fc">&nbsp;        infoPanel.setPreferredSize(new Dimension(250, 138));</b>
<b class="fc">&nbsp;        infoPanel.setMinimumSize(new Dimension(250, 138));</b>
<b class="fc">&nbsp;        infoPanel.setBackground(Color.WHITE);</b>
&nbsp;        
<b class="fc">&nbsp;        JLabel nameLabel = new JLabel(&quot;Name: &quot; + character.getName());</b>
<b class="fc">&nbsp;        JLabel ageLabel = new JLabel(&quot;Age: &quot; + character.getAge());</b>
&nbsp;        
&nbsp;        // create gender label
<b class="fc">&nbsp;        JLabel genderLabel = new JLabel();</b>
<b class="fc">&nbsp;        String genderText = &quot;Gender: &quot; + getGenderString(character.getGender());</b>
<b class="fc">&nbsp;        ImageIcon genderIcon = null;</b>
&nbsp;        
&nbsp;        // set gender icon based on gender
<b class="pc">&nbsp;        switch (character.getGender()) {</b>
&nbsp;            case 1:
<b class="fc">&nbsp;                genderIcon = new ImageIcon(&quot;src/main/resources/female.png&quot;);</b>
&nbsp;                break;
&nbsp;            case 2:
<b class="fc">&nbsp;                genderIcon = new ImageIcon(&quot;src/main/resources/male.png&quot;);</b>
&nbsp;                break;
&nbsp;            case 3:
<b class="nc">&nbsp;                genderIcon = new ImageIcon(&quot;src/main/resources/other.png&quot;);</b>
&nbsp;                break;
&nbsp;        }
&nbsp;        
&nbsp;        // adjust icon size
<b class="pc">&nbsp;        if (genderIcon != null) {</b>
<b class="fc">&nbsp;            Image image = genderIcon.getImage();</b>
<b class="fc">&nbsp;            Image newimg = image.getScaledInstance(12, 12, Image.SCALE_SMOOTH);</b>
<b class="fc">&nbsp;            genderIcon = new ImageIcon(newimg);</b>
<b class="fc">&nbsp;            genderLabel.setIcon(genderIcon);</b>
&nbsp;        }
&nbsp;        
&nbsp;        // set text and icon position
<b class="fc">&nbsp;        genderLabel.setText(genderText);</b>
<b class="fc">&nbsp;        genderLabel.setHorizontalTextPosition(SwingConstants.LEFT);</b>
<b class="fc">&nbsp;        genderLabel.setIconTextGap(5); // icon and text gap</b>
&nbsp;        
<b class="fc">&nbsp;        JLabel zodiacLabel = new JLabel(&quot;Zodiac: &quot; + character.getZodiacSign());</b>
<b class="fc">&nbsp;        JLabel occupationLabel = new JLabel(&quot;Occupation: &quot; + character.getOccupation());</b>
&nbsp;        
&nbsp;        // set label font
<b class="fc">&nbsp;        Font labelFont = new Font(&quot;Dialog&quot;, Font.PLAIN, 12);</b>
<b class="fc">&nbsp;        nameLabel.setFont(labelFont);</b>
<b class="fc">&nbsp;        ageLabel.setFont(labelFont);</b>
<b class="fc">&nbsp;        genderLabel.setFont(labelFont);</b>
<b class="fc">&nbsp;        zodiacLabel.setFont(labelFont);</b>
<b class="fc">&nbsp;        occupationLabel.setFont(labelFont);</b>
&nbsp;        // set label margin
<b class="fc">&nbsp;        nameLabel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</b>
<b class="fc">&nbsp;        ageLabel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</b>
<b class="fc">&nbsp;        genderLabel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</b>
<b class="fc">&nbsp;        zodiacLabel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</b>
<b class="fc">&nbsp;        occupationLabel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</b>
&nbsp;        
&nbsp;        // set label minimum and maximum height
<b class="fc">&nbsp;        nameLabel.setMinimumSize(new Dimension(0, 15));</b>
<b class="fc">&nbsp;        nameLabel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 15));</b>
<b class="fc">&nbsp;        ageLabel.setMinimumSize(new Dimension(0, 15));</b>
<b class="fc">&nbsp;        ageLabel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 15));</b>
<b class="fc">&nbsp;        genderLabel.setMinimumSize(new Dimension(0, 15));</b>
<b class="fc">&nbsp;        genderLabel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 15));</b>
<b class="fc">&nbsp;        zodiacLabel.setMinimumSize(new Dimension(0, 15));</b>
<b class="fc">&nbsp;        zodiacLabel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 15));</b>
<b class="fc">&nbsp;        occupationLabel.setMinimumSize(new Dimension(0, 15));</b>
<b class="fc">&nbsp;        occupationLabel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 15));</b>
&nbsp;        
&nbsp;        // add label to panel
<b class="fc">&nbsp;        infoPanel.add(nameLabel);</b>
<b class="fc">&nbsp;        infoPanel.add(ageLabel);</b>
<b class="fc">&nbsp;        infoPanel.add(genderLabel);</b>
<b class="fc">&nbsp;        infoPanel.add(zodiacLabel);</b>
<b class="fc">&nbsp;        infoPanel.add(occupationLabel);</b>
&nbsp;
&nbsp;        // right button panel
<b class="fc">&nbsp;        JPanel buttonPanel = new JPanel(new BorderLayout());</b>
<b class="fc">&nbsp;        buttonPanel.setPreferredSize(new Dimension(37, 92));</b>
<b class="fc">&nbsp;        buttonPanel.setMinimumSize(new Dimension(37, 92));</b>
<b class="fc">&nbsp;        buttonPanel.setMaximumSize(new Dimension(37, 92));</b>
<b class="fc">&nbsp;        buttonPanel.setBackground(Color.WHITE);</b>
<b class="fc">&nbsp;        JPanel topRightWrapper = new JPanel(new FlowLayout(FlowLayout.RIGHT, 0, 0)); // 🔧 aligns to top-right</b>
<b class="fc">&nbsp;        topRightWrapper.setOpaque(false); // Let background show through</b>
<b class="fc">&nbsp;        topRightWrapper.setBorder(BorderFactory.createEmptyBorder(8, 0, 0, 12)); // 🔧 8px from top</b>
<b class="fc">&nbsp;        JButton removeButton = new JButton(&quot;-&quot;);</b>
<b class="fc">&nbsp;        removeButton.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));</b>
<b class="fc">&nbsp;        removeButton.setPreferredSize(new Dimension(25, 25));</b>
<b class="fc">&nbsp;        removeButton.setMargin(new Insets(0, 0, 0, 10));</b>
<b class="fc">&nbsp;        removeButton.setFocusable(false);</b>
<b class="fc">&nbsp;        removeButton.setOpaque(true);</b>
<b class="fc">&nbsp;        removeButton.setBackground(Color.WHITE);</b>
<b class="fc">&nbsp;        removeButton.setBorder(BorderFactory.createCompoundBorder(</b>
<b class="fc">&nbsp;            BorderFactory.createLineBorder(new Color(200, 200, 200)),</b>
<b class="fc">&nbsp;            BorderFactory.createEmptyBorder(0, 0, 0, 0)</b>
&nbsp;        ));
<b class="fc">&nbsp;        removeButton.setCursor(new Cursor(Cursor.HAND_CURSOR));</b>
&nbsp;
<b class="fc">&nbsp;        removeButton.addActionListener(e -&gt; {</b>
<b class="fc">&nbsp;            System.out.println(&quot;Remove button clicked for character: &quot; + character.getName());</b>
<b class="pc">&nbsp;            if (removeCharacterListener != null) {</b>
<b class="fc">&nbsp;                System.out.println(&quot;Removing character with ID: &quot; + character.getId());</b>
<b class="fc">&nbsp;                removeCharacterListener.onRemove(character.getId());</b>
&nbsp;            } else {
<b class="nc">&nbsp;                System.out.println(&quot;removeCharacterListener is null&quot;);</b>
&nbsp;            }
&nbsp;        });
&nbsp;
&nbsp;        // Add button to wrapper, then wrapper to top of button panel
<b class="fc">&nbsp;        topRightWrapper.add(removeButton);</b>
<b class="fc">&nbsp;        buttonPanel.add(topRightWrapper, BorderLayout.NORTH); // 🔧 key: add to NORTH</b>
&nbsp;
&nbsp;        // add panel to main panel
<b class="fc">&nbsp;        panel.add(imagePanel, BorderLayout.WEST);</b>
<b class="fc">&nbsp;        panel.add(infoPanel, BorderLayout.CENTER);</b>
<b class="fc">&nbsp;        panel.add(buttonPanel, BorderLayout.EAST);</b>
&nbsp;
&nbsp;        // add separator
<b class="fc">&nbsp;        panel.setBorder(BorderFactory.createMatteBorder(0, 0, 1, 0, Color.LIGHT_GRAY));</b>
&nbsp;
<b class="fc">&nbsp;        contentPanel.add(panel);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Converts a gender code to its corresponding string.
&nbsp;     *
&nbsp;     * @param gender the integer gender code (1 = Female, 2 = Male, 3 = Other)
&nbsp;     * @return a string representing the gender
&nbsp;     */
&nbsp;    private String getGenderString(int gender) {
<b class="pc">&nbsp;        switch (gender) {</b>
<b class="fc">&nbsp;            case 1: return &quot;Female&quot;;</b>
<b class="fc">&nbsp;            case 2: return &quot;Male&quot;;</b>
<b class="nc">&nbsp;            case 3: return &quot;Other&quot;;</b>
<b class="nc">&nbsp;            default: return &quot;Unknown&quot;;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Adds a listener to handle clearing the wishlist.
&nbsp;     *
&nbsp;     * @param listener the action listener for the clear button
&nbsp;     */
&nbsp;    public void addClearWishListListener(ActionListener listener) {
<b class="fc">&nbsp;        clearButton.addActionListener(listener);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Adds a listener to handle saving the wishlist to a file.
&nbsp;     *
&nbsp;     * @param listener the action listener for the save button
&nbsp;     */
&nbsp;    public void addSaveToFileListener(ActionListener listener) {
<b class="fc">&nbsp;        saveButton.addActionListener(listener);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Refreshes the view to reflect the latest changes in the panel.
&nbsp;     */
&nbsp;    public void updateView() {
<b class="fc">&nbsp;        contentPanel.revalidate();</b>
<b class="fc">&nbsp;        contentPanel.repaint();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Listener interface for handling character removal actions.
&nbsp;     */
&nbsp;    public interface RemoveCharacterListener {
&nbsp;        void onRemove(int characterId);
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-04-13 23:01</div>
</div>
</body>
</html>
